# TestScheduler

```typescript
class TestScheduler extends VirtualTimeScheduler {
  static parseMarblesAsSubscriptions(marbles: string, runMode: boolean = false): SubscriptionLog
  static parseMarbles(marbles: string, values?: any, errorValue?: any, materializeInnerObservables: boolean = false, runMode: boolean = false): TestMessage[]
  constructor(assertDeepEqual: (actual: any, expected: any) => boolean | void)
  get hotObservables: HotObservable<any>[]
  get coldObservables: ColdObservable<any>[]
  assertDeepEqual: (actual: any, expected: any) => boolean | void
  createTime(marbles: string): number
  createColdObservable<T = string>(marbles: string, values?: { [marble: string]: T; }, error?: any): ColdObservable<T>
  createHotObservable<T = string>(marbles: string, values?: { [marble: string]: T; }, error?: any): HotObservable<T>
  expectObservable(observable: Observable<any>, subscriptionMarbles: string = null): ({...})
  expectSubscriptions(actualSubscriptionLogs: SubscriptionLog[]): ({...})
  flush()
  run<T>(callback: (helpers: RunHelpers) => T): T

  // Heredado de index/VirtualTimeScheduler
  protected static frameTimeFactor: number
  constructor(SchedulerAction: typeof AsyncAction = VirtualAction as any, maxFrames: number = Number.POSITIVE_INFINITY)
  frame: number
  index: number
  maxFrames: number
  flush(): void
}
```

## Métodos Estáticos

| parseMarblesAsSubscriptions()                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| <h4>Firma</h4><p><code>static parseMarblesAsSubscriptions(marbles: string, runMode: boolean = false): SubscriptionLog</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>marbles</td><td>Tipo: <code>string</code>.</td></tr><tr><td>runMode</td><td>Opcional. El valor por defecto es <code>false</code>. Tipo: <code>boolean</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>SubscriptionLog</code></p> |                                                             |
| marbles                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Tipo: `string`.                                             |
| runMode                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Opcional. El valor por defecto es `false`. Tipo: `boolean`. |

| parseMarbles()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| <h4>Firma</h4><p><code>static parseMarbles(marbles: string, values?: any, errorValue?: any, materializeInnerObservables: boolean = false, runMode: boolean = false): TestMessage[]</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>marbles</td><td>Tipo: <code>string</code>.</td></tr><tr><td>values</td><td>Opcional. El valor por defecto es <code>undefined</code>. Tipo: <code>any</code>.</td></tr><tr><td>errorValue</td><td>Opcional. El valor por defecto es <code>undefined</code>. Tipo: <code>any</code>.</td></tr><tr><td>materializeInnerObservables</td><td>Opcional. El valor por defecto es <code>false</code>. Tipo: <code>boolean</code>.</td></tr><tr><td>runMode</td><td>Opcional. El valor por defecto es <code>false</code>. Tipo: <code>boolean</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>TestMessage[]</code></p> |                                                             |
| marbles                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Tipo: `string`.                                             |
| values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Opcional. El valor por defecto es `undefined`. Tipo: `any`. |
| errorValue                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Opcional. El valor por defecto es `undefined`. Tipo: `any`. |
| materializeInnerObservables                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Opcional. El valor por defecto es `false`. Tipo: `boolean`. |
| runMode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Opcional. El valor por defecto es `false`. Tipo: `boolean`. |

## Constructor

| constructor()                                                                                                                                                                                                                                                                                                                            |                                                          |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| <h4>Firma</h4><p><code>constructor(assertDeepEqual: (actual: any, expected: any) => boolean | void)</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>assertDeepEqual</td><td>Tipo: <code>(actual: any, expected: any) => boolean | void</code>.</td></tr></tbody></table> |                                                          |
| assertDeepEqual                                                                                                                                                                                                                                                                                                                          | Tipo: `(actual: any, expected: any) => boolean \| void`. |

## Propiedades

| Propiedad       | Tipo                                              | Descripción                  |
| --------------- | ------------------------------------------------- | ---------------------------- |
| hotObservables  | `HotObservable[]`                                 | Read-only.                   |
| coldObservables | `ColdObservable[]`                                | Read-only.                   |
| assertDeepEqual | `(actual: any, expected: any) => boolean \| void` | Declarado en el constructor. |

## Métodos

| createTime()                                                                                                                                                                                                                                                                              |                 |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- |
| <h4>Firma</h4><p><code>createTime(marbles: string): number</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>marbles</td><td>Tipo: <code>string</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>number</code></p> |                 |
| marbles                                                                                                                                                                                                                                                                                   | Tipo: `string`. |

| createColdObservable()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                 |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <h4>Firma</h4><p><code>createColdObservable(marbles: string, values?: { [marble: string]: T; }, error?: any): ColdObservable</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>marbles</td><td>Un diagrama en el DSL de canicas. Las letras se proyectan sobre las claves de <em>values</em>, en el caso de que este se proporcione.</td></tr><tr><td>values</td><td>Opcional. El valor por defecto es <code>undefined</code>. Los valores que utilizar para las letras en <em>marbles</em>. Si se omite, se utilizan las propias letras como valores.</td></tr><tr><td>error</td><td>Opcional. El valor por defecto es <code>undefined</code>. El error que utilizar para la canica <code>#</code> (si existe.)</td></tr></tbody></table><h4>Retorna</h4><p><code>ColdObservable</code></p> |                                                                                                                                                                 |
| marbles                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Un diagrama en el DSL de canicas. Las letras se proyectan sobre las claves de _values_, en el caso de que este se proporcione.                                  |
| values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Opcional. El valor por defecto es `undefined`. Los valores que utilizar para las letras en _marbles_. Si se omite, se utilizan las propias letras como valores. |
| error                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Opcional. El valor por defecto es `undefined`. El error que utilizar para la canica `#` (si existe.)                                                            |

| createHotObservable()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <h4>Firma</h4><p><code>createHotObservable(marbles: string, values?: { [marble: string]: T; }, error?: any): HotObservable</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>marbles</td><td>Un diagrama en el DSL de canicas. Las letras se proyectan sobre las claves de <em>values</em>, en el caso de que este se proporcione.</td></tr><tr><td>values</td><td>Opcional. El valor por defecto es <code>undefined</code>. Los valores que utilizar para las letras en <em>marbles</em>. Si se omite, se utilizan las propias letras como valores.</td></tr><tr><td>error</td><td>Opcional. El valor por defecto es <code>undefined</code>. El error que utilizar para la canica <code>#</code> (si existe.)</td></tr></tbody></table><h4>Retorna</h4><p><code>HotObservable</code></p> |                                                                                                                                                                 |
| marbles                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Un diagrama en el DSL de canicas. Las letras se proyectan sobre las claves de _values_, en el caso de que este se proporcione.                                  |
| values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Opcional. El valor por defecto es `undefined`. Los valores que utilizar para las letras en _marbles_. Si se omite, se utilizan las propias letras como valores. |
| error                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Opcional. El valor por defecto es `undefined`. El error que utilizar para la canica `#` (si existe.)                                                            |

| expectObservable()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------- |
| <h4>Firma</h4><p><code>expectObservable(observable: Observable, subscriptionMarbles: string = null): ({ toBe: observableToBeFn; })</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>observable</td><td>Tipo: <code>Observable</code>.</td></tr><tr><td>subscriptionMarbles</td><td>Opcional. El valor por defecto es <code>null</code>. Tipo: <code>string</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>({ toBe: observableToBeFn; })</code></p> |                                                           |
| observable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Tipo: `Observable`.                                       |
| subscriptionMarbles                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Opcional. El valor por defecto es `null`. Tipo: `string`. |

| expectSubscriptions()                                                                                                                                                                                                                                                                                                                                                                                            |                            |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| <h4>Firma</h4><p><code>expectSubscriptions(actualSubscriptionLogs: SubscriptionLog[]): ({ toBe: subscriptionLogsToBeFn; })</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>actualSubscriptionLogs</td><td>Tipo: <code>SubscriptionLog[]</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>({ toBe: subscriptionLogsToBeFn; })</code></p> |                            |
| actualSubscriptionLogs                                                                                                                                                                                                                                                                                                                                                                                           | Tipo: `SubscriptionLog[]`. |

| flush()                                                                                        |
| ---------------------------------------------------------------------------------------------- |
| <h4>Firma</h4><p><code>flush()</code></p><h4>Parámetros</h4><p>No recibe ningún parámetro.</p> |

| run()                                                                                                                                                                                                                                                                                                              |                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------- |
| <h4>Firma</h4><p><code>run(callback: (helpers: RunHelpers) => T): T</code></p><h4>Parámetros</h4><table data-header-hidden><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>callback</td><td>Tipo: <code>(helpers: RunHelpers) => T</code>.</td></tr></tbody></table><h4>Retorna</h4><p><code>T</code></p> |                                     |
| callback                                                                                                                                                                                                                                                                                                           | Tipo: `(helpers: RunHelpers) => T`. |

## Recursos adicionales

[![Source code](assets/icons/source-code.png)](https://github.com/ReactiveX/rxjs/blob/6.5.5/src/internal/testing/TestScheduler.ts#L29-L401)

[Documentación oficial en inglés](https://rxjs.dev/api/testing/TestScheduler)
